# 解锁git的新姿势

## 前言

​	问题描述：有一个有多个分支的远程仓库，我需要新建一个仓库，然后将远程仓库`clone`进我自己新建的仓库，然后要保证能使用这个有多个远程分支的远程仓库，还能将其分支的修改上传至我自己的新建仓库。

​	有这个需求是因为在学习6s081 os的时候，官方给出的原始实验仓库是有多个分支的，因此在进行每个实验的时候需要进行分支切换，但是我想记录自己的解决方案，所以新建了一个自己的本地仓库，于是乎，将官方仓库clone进来之后，完美的完成了第一个unit lab，可是到了第二个实验的时候就傻眼了。分支切换不了。所以就有了今天这篇文章。

## 解决方案

​	方案的前提是有一个自己的github仓库，一个有多分支的远程仓库。

​	方案如下：首先将多分支的远程仓库clone下来。进入目录后，新增remote（将你的github仓库作为新的远程上传对象加入进去）

```shell
    $ git remote add [name(whatever)] [your-repo-address]
    $ git merge -m <meassage>
    $ git push name
```

​	然后使用`git remote -v `查看是否添加成功，如果添加成功，就会发现你的仓库地址和远程仓库名都已经出现了。就像下面这样。

![image-20221228102740992](https://s2.loli.net/2022/12/28/Ddima59KhH2EOnz.png)

​	然后就可以进行更改了，在当前分支进行更改，更改完毕之后，进行上传，不过这里上传需要加点小细节。因为`git push`是一个简略版的操作，它省略了后面的一部分内容，`git push origin master`意思就是将本地的master分支上传至远程origin仓库。这样的话呢，如果自己的github仓库没有master分支，其就会新增一个master分支。

​	那同样的，这里利用beeran远程仓库进行push，也会得到自己的仓库的新分支。`git push beeran [branch-name]`，所以在切换分支之后进行上传就得到了自己的仓库的新分支。

​	这里是因为，远程仓库的新分支的创建就是先在本地创建新分支，然后将新分支上传至远程仓库，这样就会得到远程的新分支，如果想要删除远程的分支，只需要将一个删除的本地分支上传就好了，删除本地分支的命令是`git branch -d [branch-name]`, 那么删除远程分支的操作就是`git push [remote-name] -d [branch-name]`。

## 后话

​	虽然在解决完之后发现，这也并不是很难，但确实花了我不少的时间来解决。一天一个bug，完美主义永不缺席。

加油~~:hugs:6s081该提上日程了，兄弟:love_hotel: